# ğŸ“š ë„ì»¤ ë°ìŠ¤íŠ¸íƒ‘ ì™„ì „ ì‚­ì œ ë° ì¬ì„¤ì¹˜

ë„ì»¤ í™ˆí˜ì´ì§€ì—ì„œ ë°›ì€ Docker Desktop ì„ ì™„ì „ ì‚­ì œí•˜ê³ , HombBrew ë¡œ ì¬ì„¤ì¹˜í•´ë³´ì.

- ë²„ì „ ì—…ë°ì´íŠ¸ê°€ ì•ˆë˜ëŠ” ì´ìŠˆê°€ ìˆì–´, brew ë¡œ ì„¤ì¹˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½

## ì‚­ì œ ê³¼ì •

ëª©í‘œ

- Docker Desktop ì•±
- ë‚´ë¶€ VM
- Kubernetes ë°ì´í„°
- ì»¨í…Œì´ë„ˆ / ì´ë¯¸ì§€ / ë³¼ë¥¨
- ì„¤ì • íŒŒì¼ / ìºì‹œ
  ì „ë¶€ ì œê±°

## Docker Desktop ì™„ì „íˆ ì¢…ë£Œ (í•„ìˆ˜)

1ï¸âƒ£ Docker Desktop ê³µì‹ Uninstall ì‹¤í–‰ (1ì°¨ ì‚­ì œ)

```shell
/Applications/Docker.app/Contents/MacOS/uninstall

# ë˜ëŠ” GUI ì—ì„œ
Docker Desktop â†’ Troubleshoot â†’ Uninstall
```

2ï¸âƒ£ Docker ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚­ì œ

```shell
rm -rf /Applications/Docker.app
```

3ï¸âƒ£ ì‚¬ìš©ì ì˜ì—­ ì”ì—¬ íŒŒì¼ ì œê±° (ê°€ì¥ ì¤‘ìš”)

```shell
rm -rf ~/Library/Application\ Support/Docker
rm -rf ~/Library/Application\ Support/Docker\ Desktop
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Containers/com.docker.helper
rm -rf ~/Library/Group\ Containers/group.com.docker
rm -rf ~/Library/Logs/Docker\ Desktop
rm -rf ~/Library/Logs/Docker
rm -rf ~/Library/Preferences/com.docker.docker.plist
rm -rf ~/Library/Preferences/com.docker.helper.plist
rm -rf ~/Library/Caches/com.docker.docker
rm -rf ~/Library/Caches/Docker
```

ğŸ‘‰ ì—¬ê¸°ì— Kubernetes ë°ì´í„°, ë‚´ë¶€ VM ë””ìŠ¤í¬ ì „ë¶€ ë“¤ì–´ ìˆìŒ

4ï¸âƒ£ ì‹œìŠ¤í…œ ì˜ì—­ ì”ì—¬ íŒŒì¼ ì œê±°

```shell
sudo rm -rf /Library/PrivilegedHelperTools/com.docker.vmnetd
sudo rm -rf /Library/PrivilegedHelperTools/com.docker.socket
sudo rm -rf /Library/LaunchDaemons/com.docker.vmnetd.plist
sudo rm -rf /Library/LaunchDaemons/com.docker.socket.plist
```

5ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ / ì†Œì¼“ / ìœ í‹¸ ì”ì—¬ë¬¼ ì œê±°

```shell
# ~/.docker ì•ˆì— context / credential / kube ì—°ë™ ì„¤ì • ë‚¨ì•„ìˆìŒ
rm -rf ~/.docker
rm -rf /private/var/run/docker.sock

```

6ï¸âƒ£ kubectl / kubeconfig ì •ë¦¬ (ì„ íƒì´ì§€ë§Œ ê¶Œì¥)

```shell
# kubeconfig ì‚­ì œ (Docker Desktop k8s í”ì  ì œê±°)
rm -rf ~/.kube
```

- âš ï¸ EKS / GKE ì„¤ì •ë„ ê°™ì´ ë‚ ì•„ê°
- ğŸ‘‰ Docker k8së§Œ ì¼ë‹¤ë©´ OK

7ï¸âƒ£ PATH / shell ì„¤ì • í™•ì¸ (ë“œë¬¼ì§€ë§Œ ì¤‘ìš”)

```shell
which docker
which kubectl

# ê¸°ëŒ€ ì¶œë ¥: docker not found
```

8ï¸âƒ£ ì™„ì „ ì‚­ì œ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ âœ…

```shell
docker --version      # command not found
kubectl config get-contexts  # no contexts or empty
ls ~/Library/Application\ Support | grep Docker  # ê²°ê³¼ ì—†ìŒ
```

**_9ï¸âƒ£ (ê¶Œì¥) ë§¥ ì¬ë¶€íŒ…_**

- VM / ë„¤íŠ¸ì›Œí¬ ë°ëª¬ ì°Œêº¼ê¸° ì™„ì „ ì œê±° ëª©ì 
- ê°•ë ¥ ê¶Œì¥

| êµ¬ì„±ìš”ì†Œ            | ìœ„ì¹˜                                     |
| ------------------- | ---------------------------------------- |
| **ë‚´ë¶€ VM ë””ìŠ¤í¬**  | `~/Library/Containers/com.docker.docker` |
| **Kubernetes etcd** | `group.com.docker`                       |
| **ë„¤íŠ¸ì›Œí¬ ë°ëª¬**   | `/Library/PrivilegedHelperTools`         |
| **kubeconfig ì—°ë™** | `~/.kube`                                |
| **context / creds** | `~/.docker`                              |

---

## ì„¤ì¹˜

- ì¬ë¶€íŒ… ì™„ë£Œ í™•ì¸

1ï¸âƒ£ Docker Desktop ì„¤ì¹˜ (í•µì‹¬)

```shell
# cask ë¡œ ì„¤ì¹˜í•˜ì—¬ docker desktop ì„¤ì¹˜
# ë‚´ë¶€ì— docker, docker compose, kubernetes, containered / VM ì „ë¶€ ê°™ì´ ì„¤ì¹˜
brew install --cask docker
```

2ï¸âƒ£ Docker Desktop ì‹¤í–‰ ë° ë²„ì „ í™•ì¸

```shell
docker v
docker version
docker-compose -v
docker-compose --version
```

3ï¸âƒ£ kubectl ì„¤ì¹˜ (Docker Desktopê³¼ ë¶„ë¦¬ ê´€ë¦¬ ê¶Œì¥)

```shell
brew install kubectl

â•°â”€ kubectl version --client
Client Version: v1.35.0
Kustomize Version: v5.7.1
```

4ï¸âƒ£ Docker Desktop Kubernetes í™œì„±í™”

```shell
Docker Desktop
â†’ Settings
â†’ Kubernetes
â†’ Enable Kubernetes

# ì ìš© í›„
kubectl get nodes

# ì •ìƒ ì¶œë ¥ ì˜ˆì‹œ
NAME             STATUS   ROLES           AGE   VERSION
docker-desktop   Ready    control-plane   1m    v1.29.x
```

5ï¸âƒ£ ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ âŒ

- brew install docker
  - CLIë§Œ ì„¤ì¹˜ â†’ ë°ëª¬ ì—†ìŒ
- docker-compose v1 ì„¤ì¹˜
  - deprecated
- kubectlì„ Dockerì— ë§¡ê¹€
  - ë²„ì „ ê¼¬ì„
- GUI ì„¤ì¹˜ + brew ì„¤ì¹˜ í˜¼ìš©
  - PATH ì§€ì˜¥

6ï¸âƒ£ ì„¤ì¹˜ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ âœ…

```shell
docker ps
docker compose version
kubectl version
kubectl version --client
kubectl get nodes
```

---

## kubectl ì„ HomeBrew ë¡œ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ” ì´ìœ 

- Docker Desktopì€ â€œì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë²„â€ë¥¼ ì œê³µí•˜ê³  kubectlì€ â€œí´ë¼ì´ì–¸íŠ¸ ë„êµ¬â€ë¼ì„œ ë”°ë¡œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.

### 1ï¸âƒ£ Docker Desktopì´ í•´ì£¼ëŠ” ê²ƒ vs ì•ˆ í•´ì£¼ëŠ” ê²ƒ

| êµ¬ë¶„                    | ìƒíƒœ             | ì„¤ëª…                                                             |
| ----------------------- | ---------------- | ---------------------------------------------------------------- |
| **Docker Desktop**      | âœ… ìƒì„±          | ë¡œì»¬ í™˜ê²½ì—ì„œ Kubernetesë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ í˜¸ìŠ¤íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜     |
| **Kubernetes í´ëŸ¬ìŠ¤í„°** | âœ… ìƒì„±          | Docker Desktopì´ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¨ì¼ ë…¸ë“œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìë™ ìƒì„±       |
| **API Server**          | âœ… ì‹¤í–‰          | ëª¨ë“  kubectl ìš”ì²­ì˜ ì§„ì…ì . í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ì½ê³ /ìˆ˜ì •            |
| **etcd**                | âœ… ì‹¤í–‰          | í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ë¶„ì‚° Key-Value ì €ì¥ì†Œ            |
| **Scheduler**           | âœ… ì‹¤í–‰          | ìƒˆë¡œ ìƒì„±ëœ Podë¥¼ ì–´ë–¤ Nodeì— ë°°ì¹˜í• ì§€ ê²°ì •                      |
| **kubectl CLI**         | âŒ (ë²ˆë“¤ë§Œ ìˆìŒ) | Docker Desktopì— í¬í•¨ì€ ë˜ì–´ ìˆìœ¼ë‚˜ **Kubernetes ë¦¬ì†ŒìŠ¤ê°€ ì•„ë‹˜** |

### 2ï¸âƒ£ kubectlì´ ë­”ì§€ ì •í™•íˆ ì •ì˜

kubectl = Kubernetes API Client

- ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ëª…ë ¹ì„ ë³´ë‚´ëŠ” CLI
- ì„œë²„ì™€ ì™„ì „íˆ ë¶„ë¦¬ëœ ë„êµ¬
- ì„œë²„ì™€ ë²„ì „ ê¶í•©ì´ ì¤‘ìš”í•¨

### 3ï¸âƒ£ brew kubectlì´ í•„ìš”í•œ ì´ìœ  (í•µì‹¬)

```shell
# Docker Desktopì— â€œë“¤ì–´ìˆëŠ”â€ kubectlì˜ ë¬¸ì œì 
- ìë™ ì—…ë°ì´íŠ¸ âŒ: Docker Desktop ì—…ë°ì´íŠ¸ ì „ê¹Œì§€ ê³ ì •
- ë²„ì „ ì„ íƒ ë¶ˆê°€: íŠ¹ì • ë²„ì „ ê°•ì œ
- PATH ê¼¬ì„: brew kubectlê³¼ ì¶©ëŒ
- ì‹¤ë¬´ ë¶€ì í•©: CI/CD í™˜ê²½ê³¼ ë‹¤ë¦„

ğŸ‘‰ â€œìˆìœ¼ë‹ˆê¹Œ ì“°ë©´ ë˜ê² ì§€â€ê°€ ê°€ì¥ ìœ„í—˜
```

```shell
# brew kubectlì´ í•„ìš”í•œ ì´ìœ  (í•µì‹¬)
# ë²„ì „ í†µì œ
brew install kubectl
brew upgrade kubectl

- ì„œë²„ë³´ë‹¤ Â±1 minor ë²„ì „ ìœ ì§€ ê°€ëŠ¥
- deprecated API ë¬¸ì œ ìµœì†Œí™”

# ë‹¤ì¤‘ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬
kubectl config get-contexts
kubectl config use-context docker-desktop

- Docker Desktop
- kind
- EKS / GKE
ğŸ‘‰ í•œ kubectlë¡œ ì „ë¶€ ì œì–´
```
