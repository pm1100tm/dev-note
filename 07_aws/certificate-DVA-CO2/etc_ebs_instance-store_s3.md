# 🚀 EBS vs Instance Store vs S3

| 구분      | EBS (Elastic Block Store)                  | Instance Store                               | S3 (Simple Storage Service)              |
| --------- | ------------------------------------------ | -------------------------------------------- | ---------------------------------------- |
| 유형      | 블록 스토리지 (네트워크 디스크)            | 블록 스토리지 (로컬 디스크)                  | 객체 스토리지                            |
| 연결      | 특정 AZ 내 EC2 인스턴스에 네트워크로 연결  | EC2 인스턴스에 물리적으로 연결된 로컬 디스크 | 인터넷을 통해 어디서나 접근              |
| 지속성    | 인스턴스 종료 후에도 데이터 유지           | 인스턴스 종료 시 데이터 삭제                 | 무제한 보존 가능                         |
| 성능      | 고성능 IOPS 설정 가능 (Provisioned IOPS)   | 매우 빠름 (로컬 SSD 수준)                    | 대용량 처리에 적합 (초고속 IOPS는 아님)  |
| 확장성    | 용량·성능 크기 늘릴 수 있음                | 인스턴스 생성 시 용량 고정, 변경 불가        | 사실상 무제한                            |
| 가용 영역 | 특정 AZ에 묶임 (다른 AZ로는 스냅샷 필요)   | 특정 인스턴스와 물리적으로 묶임              | 리전에 따라 자동으로 다중 AZ 복제        |
| 사용 사례 | DB 저장소, 파일시스템, 자주 쓰는 앱 데이터 | 캐시, 임시 데이터 처리, 고속 I/O 작업        | 백업, 정적 웹사이트, 로그 저장, 아카이빙 |
| 요금      | 프로비저닝된 크기/IOPS 기준 과금           | 인스턴스 요금에 포함                         | 사용한 스토리지+요청 건수+전송량 기준    |

---

✅ 요약

- EBS → 인스턴스 전용 외장하드 (네트워크 기반, 지속성 O, 성능 조절 가능)
- Instance Store → 인스턴스 전용 내장 SSD (빠름, 하지만 휘발성)
- S3 → 무제한 클라우드 저장소 (객체 기반, 글로벌 접근 가능, 내구성 최고)

---

## 📌 1. git clone 하면 폴더는 어디에 저장될까?

- EC2 인스턴스는 운영체제 루트 디스크(root volume) 위에서 실행됩니다.
- 이 루트 디스크는 보통 EBS 볼륨이에요.
- 즉, git clone 해서 생긴 프로젝트 폴더는 기본적으로 EBS에 저장됩니다.

👉 따라서 EC2를 껐다 켜도 (Stop/Start) 데이터는 남아있습니다. 단, 인스턴스를 Terminate(종료)
하면 EBS 볼륨이 자동 삭제되도록 설정된 경우에는 같이 사라질 수 있어요.

## 📌 2. Instance Store 란?

- Instance Store는 EC2 물리 서버에 직접 연결된 로컬 SSD
- 초고속 I/O 가능하지만, 인스턴스가 중지되거나 재부팅되면 데이터가 사라짐 (휘발성)
- 따라서 임시 데이터, 캐시, 버퍼 용도로만 적합

## 📌 3. Java Spring Boot 프로젝트에서 Instance Store를 쓸 수 있나?

- 기술적으로는 가능합니다.
- Instance Store를 마운트 해서 /mnt 같은 디렉토리에 붙이면, 거기에 프로젝트를 올릴 수 있음
- 하지만 Instance Store는 데이터가 언제든 사라질 수 있기 때문에, 👉 애플리케이션 소스 코드,
  DB, 로그 저장소에는 부적합
  - 보통 Instance Store는
  - 빌드 과정에서 생성되는 임시 파일
  - 캐시
  - 일시적인 데이터 처리 (예: Spark, Hadoop)

용도로만 사용합니다.

✅ 정리

- git clone 한 폴더는 EBS (루트 볼륨) 에 저장됨
- Instance Store는 EC2에서 직접 쓸 수 있지만, 휘발성이므로 Spring Boot 프로젝트 코드 저장 용도로는 적합하지 않음
- 코드, DB, 영속 데이터는 EBS
- 빠른 I/O 캐시/임시 데이터는 Instance Store
