# 🚀 ELB - 확장성의 두가지 방식과 고가용성

## 📌 확장성(Scalability)

- 애플리케이션/시스템이 부하(트래픽, 요청)가 커질 때, 이에 맞게 확장하여 감당할 수 있는 능력
- 즉, 더 많은 일을 처리할 수 있도록 커질 수 있는가의 문제

## ✅ 확장의 두 가지 방식

- 수직 확장(Vertical Scalability)
- 수평 확장(Horizontal Scalability, = Elasticity)

### 수직 확장(Vertical Scalability)

- 서버 한 대의 성능을 올리는 방식(CPU, RAM 업그레이드)
- 분산 시스템이 아닌 단일 시스템(Non-distributed system) 에서 많이 사용됨
- 주로 스케일 업(Scale Up) 이라고 표현
- 확장 방식이 단순하고 관리가 쉬움
- 예
  - 데이터베이스(DB), Elastic Cache 같은 서비스 -> 서버 한 대의 성능을 올리는게 효과적
- 상황
  - 콜센터 상담원이 혼자 전화 받다가, 더 빠른 컴퓨터·헤드셋을 줘서 업무 속도를 높여주는 것

#### 제한점

- 무한히 확장 불가능 -> 인스턴스 타입에 따라 최대 크기 제한이 있음
- 예: t 시리즈 -> m 시리즈 -> r 시리즈로 갈 수 있지만, 결국은 한계에 도달

### 수평 확장(Horizontal Scalability, = Elasticity)

- 서버의 대수를 늘리는 방식
- 수평 확장은 곧 분산 시스템(distributed systems) 을 의미함
- 여러 대의 서버가 같은 애플리케이션을 실행하면서, 트래픽을 나눠 처리
- 로드 밸런서를 사용해 요청을 여러 서버에 분산
- 웹 애플리케이션, 마이크로서비스, 클라우드 네이티브 서비스 등 현대적 애플리케이션
  - AWS 같은 클라우드에서는 EC2 인스턴스 자동 확장(오토 스케일링) 으로 쉽게 구현 가능
- 예:
  - 웹 서버 1대로는 트래픽 1,000명만 감당 가능
  - 수평 확장으로 5대를 늘리면 → 5,000명까지 동시에 처리 가능
  - 로드 밸런서가 트래픽을 자동으로 분배
- 상황
  - 상담원 한 명으로는 부족하니까 상담원을 10명으로 늘려서 동시에 전화를 받게 하는 것

## 📌 고가용성(High Availability, HA)

- 시스템이 항상 **_운영 상태_**를 유지하고, 장애나 다운타임 없이 동작하는 능력
- "죽지 않고 계속 살아있는가"의 문제
- 예: 콜센터 상담원이 병가를 내도 다른 상담원이 전화를 받을 수 있도록 팀을 구성해둠
  -> 서비스가 멈추지 않음

### 확장성과 고가용성의 차이

- 확장성: 더 많은 요청을 처리할 수 있는 능력(성능 ↑)
- 고가용성: 장애가 나도 서비스가 멈추지 않는 능력(안정성 ↑)

✅ 쉽게 요약

- 확장성
  - 더 많은 고객을 동시에 처리할 수 있는 능력
- 고가용성
  - 고객이 언제 전화를 걸어도 반드시 상담원이 받게 하는 능력
  - 패시브(수동) HA도 가능
  - AWS에서는 주로 멀티 AZ 배포, 로드 밸런서, 오토 스케일링, RDS Multi-AZ 등을 통해 구현
  - 예: RDS Multi-AZ → 주 DB(Primary)가 장애 나면, 대기 중인 보조 DB(Standby)로 자동 전환

| 구분 | 확장성 (Scalability)                                                                                      | 고가용성 (High Availability, HA)                                                        |
| ---- | --------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| 정의 | 더 많은 부하(트래픽, 요청)를 처리할 수 있는 능력                                                          | 장애가 나도 시스템을 멈추지 않고 계속 동작시키는 능력                                   |
| 목적 | **성능 향상** (처리량 늘리기)                                                                             | **안정성 확보** (다운타임 최소화)                                                       |
| 방식 | - 수직 확장: 서버 성능 업그레이드 (CPU, RAM)<br>- 수평 확장: 서버 개수 늘리기                             | - 멀티 AZ 배포<br>- 로드 밸런서(ELB)<br>- RDS Multi-AZ, 자동 장애 조치                  |
| 예시 | - t2.micro → t2.large 업그레이드 (수직)<br>- EC2 인스턴스 1대 → 5대 (수평)                                | - 서울 리전 AZ1 서버 장애 시 AZ2 서버로 서비스 유지<br>- DB 장애 시 보조 DB로 자동 전환 |
| 비유 | 음식점에 손님이 늘면:<br>- 수직: 요리사 1명에게 더 좋은 장비 제공<br>- 수평: 요리사 수를 늘려서 병행 처리 | 음식점이 두 건물에 나뉘어 있음 → 한 건물이 정전 나도 다른 건물에서 계속 영업            |
